# MINIMAL DEBUG CONFIG - Test this first
data.dlux.io {
    # Simplest possible WebSocket proxying
    reverse_proxy /ws/* localhost:3010 {
        header_up Host {host}
        header_up Origin {http.request.header.Origin}
    }
    
    # Regular HTTP
    reverse_proxy localhost:3010 {
        header_up Host {host}
    }
}

# If minimal config works, then gradually add back features:
# 1. Add WebSocket headers
# 2. Add buffering controls
# 3. Add advanced transport settings

# ADVANCED DEBUG CONFIG - Try if minimal works
# data.dlux.io {
#     @ws path /ws/*
#     reverse_proxy @ws localhost:3010 {
#         header_up Host {host}
#         header_up Origin {http.request.header.Origin}
#         header_up Connection "Upgrade"
#         header_up Upgrade "websocket"
#     }
#     reverse_proxy localhost:3010
# } 